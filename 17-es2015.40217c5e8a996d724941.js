(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{PqMW:function(t,e,o){"use strict";o.r(e),o.d(e,"BookingDetailsModule",(function(){return u}));var l=o("ofXK"),n=o("PSD3"),s=o.n(n),i=o("fXoL"),b=o("tyNb"),c=o("dz5x"),a=o("N+K7");const r=function(){return["/admin/video-call"]},d=[{path:"",component:(()=>{class t{constructor(t,e,o,l){this.route=t,this.share=e,this.http=o,this.router=l}ngOnInit(){this.route.params.subscribe(t=>{this.http.postToBackend("/admin/slot/detail",{adminId:this.share.user,slotId:t.id}).then(t=>{console.log(t),7e3===t.statusCode&&(this.slot=t.data)}).catch(t=>{console.log(t),s.a.fire({icon:"error",title:"Can't process this request",text:t.message})})})}cancelBooked(t,e){s.a.fire({icon:"question",title:"Delete this slot?",text:"This slot is booked. Removing it will require refund for the slot. Do you still want to delete it?",showCancelButton:!0,confirmButtonText:"Yes, delete this slot!"}).then(o=>{o.value&&this.http.postToBackend("/admin/refund",{adminId:this.share.user,slotId:t,transactionId:e}).then(t=>{console.log(t),7e3===t.statusCode?(s.a.fire("Deleted","Slot Deleted Successfully","success"),this.router.navigate(["admin/all-bookings"])):s.a.fire("Sorry ",t.message,"error")}).catch(t=>{console.log(t),s.a.fire("Failed to delete the slot",t.message,"error")})})}}return t.\u0275fac=function(e){return new(e||t)(i.Jb(b.a),i.Jb(c.a),i.Jb(a.a),i.Jb(b.c))},t.\u0275cmp=i.Db({type:t,selectors:[["app-booking-details"]],decls:55,vars:22,consts:[[1,"text-dark","mb-4"],[1,"booking-details"],[1,"row","mt-5"],[1,"col-md-4"],[1,"text-dark","mb-5"],[1,"text"],[1,"text-dark"],[1,"mb-","mt-3"],[1,"text-block","text-block--dark","mb-3"],[1,"d-flex","justify-content-between","align-items-center"],[1,"content"],[1,"text","mb-1"],[1,"d-flex","align-items-center","justify-content-between"],[1,"row"],[1,"col-lg-6","col-md-8","col-sm-10"],[1,"btn","btn-primary",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(t,e){1&t&&(i.Ob(0,"h2",0),i.oc(1,"Booking details"),i.Nb(),i.Ob(2,"div",1),i.Ob(3,"div",2),i.Ob(4,"div",3),i.Ob(5,"h5",4),i.oc(6,"Customer details"),i.Nb(),i.Ob(7,"p"),i.oc(8,"Name"),i.Nb(),i.Ob(9,"p",5),i.oc(10),i.Nb(),i.Ob(11,"p"),i.oc(12,"Phone Number"),i.Nb(),i.Ob(13,"p",5),i.oc(14),i.Nb(),i.Ob(15,"p"),i.oc(16,"Consulting Type"),i.Nb(),i.Ob(17,"p",5),i.oc(18),i.Zb(19,"titlecase"),i.Nb(),i.Ob(20,"p"),i.oc(21,"Reason for meeting"),i.Nb(),i.Ob(22,"p",5),i.oc(23),i.Nb(),i.Nb(),i.Ob(24,"div",3),i.Ob(25,"h5",4),i.oc(26,"Slot details"),i.Nb(),i.Ob(27,"h5"),i.oc(28),i.Zb(29,"date"),i.Nb(),i.Ob(30,"h4",6),i.oc(31),i.Zb(32,"date"),i.Zb(33,"date"),i.Nb(),i.Ob(34,"p",7),i.oc(35,"Duration of the meeting"),i.Nb(),i.Ob(36,"p",8),i.oc(37),i.Nb(),i.Nb(),i.Ob(38,"div",3),i.Ob(39,"h5",4),i.oc(40,"Payment details"),i.Nb(),i.Ob(41,"div",9),i.Ob(42,"div",10),i.Ob(43,"p",11),i.oc(44,"Total Amount Paid:"),i.Nb(),i.Ob(45,"h2"),i.oc(46),i.Nb(),i.Nb(),i.Nb(),i.Kb(47,"div",12),i.Nb(),i.Nb(),i.Ob(48,"div",13),i.Ob(49,"div",14),i.Ob(50,"div",9),i.Ob(51,"a",15),i.oc(52," Attend Meeting"),i.Nb(),i.Ob(53,"button",16),i.Wb("click",(function(){return e.cancelBooked(null==e.slot?null:e.slot.id,null==e.slot?null:e.slot.bookingDetails.payment_id)})),i.oc(54,"Cancel Meeting"),i.Nb(),i.Nb(),i.Nb(),i.Nb(),i.Nb()),2&t&&(i.zb(10),i.pc(null==e.slot?null:e.slot.bookingDetails.full_name),i.zb(4),i.pc(null==e.slot?null:e.slot.bookingDetails.mobile_no),i.zb(4),i.pc(i.ac(19,10,null==e.slot?null:e.slot.bookingDetails.counsulting_type)),i.zb(5),i.pc(null==e.slot?null:e.slot.bookingDetails.reason),i.zb(5),i.qc(" ",i.bc(29,12,null==e.slot?null:e.slot.date,"MMMM d,y")," "),i.zb(3),i.rc(" ",i.bc(32,15,null==e.slot?null:e.slot.startTime,"h:mm a")," - ",i.bc(33,18,null==e.slot?null:e.slot.endTime,"h:mm a")," "),i.zb(6),i.qc(" ",null==e.slot?null:e.slot.duration," min"),i.zb(9),i.qc("$",null==e.slot?null:e.slot.bookingDetails.amount_paid,""),i.zb(5),i.ec("routerLink",i.gc(21,r)))},directives:[b.e],pipes:[l.p,l.d],styles:[""]}),t})()}];let u=(()=>{class t{}return t.\u0275mod=i.Hb({type:t}),t.\u0275inj=i.Gb({factory:function(e){return new(e||t)},imports:[[l.b,b.f.forChild(d)]]}),t})()}}]);