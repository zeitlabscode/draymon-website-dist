(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{fEIi:function(t,e,o){"use strict";o.r(e),o.d(e,"AllSlotsModule",(function(){return m}));var l=o("ofXK"),n=o("PSD3"),i=o.n(n),s=o("fXoL"),c=o("N+K7"),a=o("CNll"),b=o("tyNb");function r(t,e){1&t&&(s.Mb(0),s.Ob(1,"div",2),s.Ob(2,"span",3),s.oc(3," Getting slots, Please wait... "),s.Kb(4,"div",4),s.Nb(),s.Nb(),s.Lb())}const d=function(t){return["/admin/booking-details",t]};function u(t,e){if(1&t&&(s.Ob(0,"span",14),s.Ob(1,"a",22),s.Ob(2,"i",23),s.oc(3," remove_red_eye "),s.Nb(),s.Ob(4,"div",16),s.Ob(5,"p"),s.oc(6," View Booking Details "),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&t){const t=s.Yb().$implicit;s.zb(1),s.ec("routerLink",s.hc(1,d,null==t?null:t.id))}}function f(t,e){if(1&t){const t=s.Pb();s.Ob(0,"div",10),s.Ob(1,"div",11),s.Ob(2,"div",12),s.nc(3,u,7,3,"span",13),s.Ob(4,"span",14),s.Ob(5,"i",15),s.Wb("click",(function(){s.jc(t);const o=e.$implicit,l=e.index;return s.Yb(2).deleteSlot(null==o?null:o.id,null==o?null:o.transactionId,null==o?null:o.booked,l)})),s.oc(6," delete_outline "),s.Nb(),s.Ob(7,"div",16),s.Ob(8,"p"),s.oc(9," Delete this slot ? "),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(10,"h5",17),s.oc(11),s.Zb(12,"date"),s.Nb(),s.Ob(13,"h6",18),s.oc(14),s.Zb(15,"date"),s.Zb(16,"date"),s.Nb(),s.Ob(17,"div",19),s.Ob(18,"span",20),s.oc(19),s.Nb(),s.Ob(20,"span",21),s.oc(21),s.Nb(),s.Nb(),s.Nb(),s.Nb()}if(2&t){const t=e.$implicit;s.zb(3),s.ec("ngIf",null==t?null:t.booked),s.zb(8),s.qc(" ",s.bc(12,10,null==t?null:t.date,"MMMM d,y")," "),s.zb(3),s.rc(" ",s.bc(15,13,null==t?null:t.startTime,"h:mm a")," - ",s.bc(16,16,null==t?null:t.endTime,"h:mm a"),""),s.zb(5),s.qc("",null==t?null:t.duration," MINS"),s.zb(1),s.Bb("text-block--primary",null==t?null:t.booked)("text-block--secondary",!(null!=t&&t.booked)),s.zb(1),s.qc(" ",1==(null==t?null:t.booked)?"Booked":"Not Booked"," ")}}function h(t,e){if(1&t&&(s.Ob(0,"section",5),s.Ob(1,"h2",6),s.oc(2," All Slots "),s.Nb(),s.Ob(3,"div",7),s.Ob(4,"div",8),s.nc(5,f,22,19,"div",9),s.Nb(),s.Nb(),s.Nb()),2&t){const t=s.Yb();s.zb(5),s.ec("ngForOf",t.allSlots)}}const p=[{path:"",component:(()=>{class t{constructor(t,e){this.http=t,this.share=e,this.allSlots=[]}ngOnInit(){this.loading=!0,this.http.postToBackend("/admin/slot/all",{adminId:this.share.user}).then(t=>{this.loading=!1,console.log(t),7e3==t.statusCode?(this.allSlots=t.data,console.log(this.allSlots)):i.a.fire("Error",t.message,"error")}).catch(t=>{this.loading=!1,console.log(t),i.a.fire("Error",t.message,"error")})}deleteSlot(t,e,o,l){o?i.a.fire({icon:"question",title:"Delete this slot?",text:"This slot is booked. So you cannot delete it",showCancelButton:!0}):i.a.fire({icon:"question",title:"Delete this slot?",showCancelButton:!0,confirmButtonText:"Yes, delete this slot!"}).then(e=>{e.value&&this.http.postToBackend("/admin/slot/delete",{adminId:this.share.user,slotId:t}).then(t=>{console.log(t),t.statusCode?(i.a.fire("Deleted","Slot Deleted Successfully","success"),this.allSlots.splice(l,1)):i.a.fire("Failed","Failed to delete slot","error")}).catch(t=>{console.log(t),i.a.fire("Failed","Failed to delete slot","error")}),console.log(e.value,t)})}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(c.a),s.Jb(a.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-all-slots"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","slots-container",4,"ngIf"],[1,"text-center","mt-5","pt-5"],[1,"text","mx-auto","ld-ext-left","running"],[1,"ld","ld-ring","ld-spin"],[1,"slots-container"],[1,"text-dark"],[1,"slot-section"],[1,"row"],["class","col-lg-3 col-md-4 col-6",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","col-6"],[1,"card","slot-card"],[1,"slot-option"],["class","my-tooltip",4,"ngIf"],[1,"my-tooltip"],[1,"material-icons","material-icons-rounded",3,"click"],[1,"my-tooltip-content"],[1,"text-dark","mb-2"],[1,"text-light-gray","slot-time","mb-4"],[1,"d-flex","align-items-center","justify-content-between"],[1,"text-block","text-block--dark"],[1,"text-block"],[3,"routerLink"],[1,"material-icons","material-icons-outlined","text-dark"]],template:function(t,e){1&t&&(s.nc(0,r,5,0,"ng-container",0),s.nc(1,h,6,1,"section",1)),2&t&&(s.ec("ngIf",e.loading),s.zb(1),s.ec("ngIf",!e.loading))},directives:[l.k,l.j,b.e],pipes:[l.d],styles:[""]}),t})()}];let m=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(e){return new(e||t)},imports:[[l.b,b.f.forChild(p)]]}),t})()}}]);