(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"73oR":function(e,t,o){"use strict";o.r(t),o.d(t,"VideoCallModule",(function(){return l}));var n=o("ofXK"),s=o("fXoL"),i=o("N+K7"),c=o("dz5x"),r=o("tyNb");function a(e,t){if(1&e&&(s.Ob(0,"div"),s.Ob(1,"p"),s.nc(2),s.Nb(),s.Kb(3,"iframe",1),s.Nb()),2&e){const e=s.Yb();s.zb(2),s.rc(" ",e.hour,"h ",e.minute,"m ",e.second,"s ")}}function h(e,t){1&e&&(s.Ob(0,"div"),s.Ob(1,"h3"),s.nc(2," Meeting Over "),s.Nb(),s.Nb())}const d=[{path:"",component:(()=>{class e{constructor(e,t,o){this.http=e,this.share=t,this.router=o,this.meeting=!1,this.hour=0,this.minute=0,this.second=0}ngOnInit(){this.http.postToBackend("/users/check-current",{userId:this.share.user.id}).then(e=>{7e3==e.statusCode?(console.log(e),console.log(new Date(e.data.endTime)),this.meeting=!0,this.startTimer(e.data.endTime)):this.router.navigate(["/dashboard"])}).catch(e=>{console.log(e)})}startTimer(e){let t,o;this.x=setInterval(()=>{console.log("hit"),t=(new Date).getTime(),o=new Date(e);var n=o-t,s=(Math.floor(n/864e5),Math.floor(n%864e5/36e5)),i=Math.floor(n%36e5/6e4),c=Math.floor(n%6e4/1e3);this.hour=s,this.minute=i,this.second=c,n<0&&(clearInterval(this.x),this.meeting=!1,console.log("end hit"))},1e3)}}return e.\u0275fac=function(t){return new(t||e)(s.Jb(i.a),s.Jb(c.a),s.Jb(r.c))},e.\u0275cmp=s.Db({type:e,selectors:[["app-video-call"]],decls:2,vars:2,consts:[[4,"ngIf"],["src","https://tokbox.com/embed/embed/ot-embed.js?embedId=bec6518c-a0ab-4c90-a177-f906c4b1979c&room=DEFAULT_ROOM&iframe=true","width","800","height","640","scrolling","auto","allow","microphone; camera"]],template:function(e,t){1&e&&(s.mc(0,a,4,3,"div",0),s.mc(1,h,3,0,"div",0)),2&e&&(s.dc("ngIf",t.meeting),s.zb(1),s.dc("ngIf",!t.meeting))},directives:[n.k],styles:[""]}),e})()}];let l=(()=>{class e{}return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(t){return new(t||e)},imports:[[n.b,r.f.forChild(d)]]}),e})()}}]);