function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"Fep+":function(t,e,n){"use strict";n.r(e),n.d(e,"MeetingsModule",(function(){return h}));var o=n("ofXK"),a=n("PSD3"),i=n.n(a),r=n("fXoL"),c=n("N+K7"),l=n("dz5x"),s=n("tyNb");function b(t,e){1&t&&(r.Mb(0),r.Ob(1,"span",5),r.oc(2," Getting your meetings... "),r.Kb(3,"div",6),r.Nb(),r.Lb())}function d(t,e){if(1&t&&(r.Ob(0,"tr"),r.Ob(1,"td",9),r.oc(2),r.Nb(),r.Ob(3,"td"),r.oc(4),r.Zb(5,"date"),r.Nb(),r.Ob(6,"td"),r.oc(7),r.Zb(8,"date"),r.Zb(9,"date"),r.Nb(),r.Ob(10,"td",11),r.oc(11),r.Nb(),r.Ob(12,"td"),r.oc(13),r.Zb(14,"titlecase"),r.Nb(),r.Nb()),2&t){var n=e.$implicit,o=e.index;r.zb(2),r.pc(o+1),r.zb(2),r.pc(r.bc(5,6,null==n?null:n.date,"EE, dd MMM, yyyy")),r.zb(3),r.rc("",r.bc(8,9,null==n?null:n.startTime,"h:mm a")," - ",r.bc(9,12,null==n?null:n.endTime,"h:mm a"),""),r.zb(4),r.qc("",null==n?null:n.duration," MINS"),r.zb(2),r.pc(r.ac(14,15,null==n?null:n.counsultingType))}}function u(t,e){if(1&t&&(r.Ob(0,"div",7),r.Ob(1,"table",8),r.Ob(2,"thead"),r.Ob(3,"tr"),r.Ob(4,"th",9),r.oc(5,"Sr no."),r.Nb(),r.Ob(6,"th"),r.oc(7,"Date"),r.Nb(),r.Ob(8,"th"),r.oc(9,"Time"),r.Nb(),r.Ob(10,"th"),r.oc(11,"Duration"),r.Nb(),r.Ob(12,"th"),r.oc(13,"Consulting Type"),r.Nb(),r.Nb(),r.Nb(),r.Ob(14,"tbody"),r.nc(15,d,15,17,"tr",10),r.Nb(),r.Nb(),r.Nb()),2&t){var n=r.Yb();r.zb(15),r.ec("ngForOf",n.slots)}}function g(t,e){1&t&&(r.Mb(0),r.Ob(1,"span",12),r.oc(2," You don't have any meetings. "),r.Nb(),r.Ob(3,"a",13),r.oc(4,"Book one now."),r.Nb(),r.Lb())}var m,f,p=[{path:"",component:(m=function(){function t(e,n){_classCallCheck(this,t),this.http=e,this.share=n,this.slots=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.loading=!0,this.http.postToBackend("/users/slot/booked/all",{userId:this.share.user.id}).then((function(e){t.loading=!1,console.log(e),7e3===e.statusCode&&(t.slots=e.data.map((function(t){var e,n;return e=new Date(t.startTime),n=new Date,{id:t.id,title:t.title,date:t.date,startTime:t.startTime,endTime:t.endTime,duration:t.duration,counsultingType:t.counsultingType,bookedAt:t.bookedAt,transactionId:t.transactionId,join:t.join,refund:(e-n)/36e5>24}})),console.log(t.slots))})).catch((function(e){console.log(e),t.loading=!1,i.a.fire({icon:"error",title:"Internal Server Error"})}))}},{key:"confirmCancelation",value:function(t,e,n){var o=this;i.a.fire({icon:"question",title:"Cancel this meeting?",text:"The amount paid for this meeting will be refunded to your account in 48 hours",showCancelButton:!0,confirmButtonText:"Yes, cancel!"}).then((function(a){a.value&&o.cancel(t,e,n)}))}},{key:"cancel",value:function(t,e,n){var o=this;this.http.postToBackend("/users/slot/cancel",{userId:this.share.user.id,slotId:e,transactionId:n}).then((function(e){console.log(e),7e3===e.statusCode?(o.slots.splice(t,1),i.a.fire("Canceled","Your booking is cancelled and refund is initiated successfully","success")):i.a.fire("Failed","Cannot cancel booking. Please try later","error")})).catch((function(t){console.log(t),i.a.fire("Failed","Cannot cancel booking. Please try later","error")}))}}]),t}(),m.\u0275fac=function(t){return new(t||m)(r.Jb(c.a),r.Jb(l.a))},m.\u0275cmp=r.Db({type:m,selectors:[["app-meetings"]],decls:9,vars:3,consts:[[1,"dash-wrap"],[1,"text-dark","border-1"],[1,"text-primary"],[4,"ngIf"],["class","table-wrap",4,"ngIf"],[1,"text","mx-auto","ld-ext-left","running"],[1,"ld","ld-ring","ld-spin"],[1,"table-wrap"],[1,"table","table-reponsive"],[1,"table-cell-small"],[4,"ngFor","ngForOf"],[1,"text-primary","text-small","text-700"],[1,"text","mx-auto"],["routerLink","/dashboard/new-meeting",1,"text-700","link"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"h4",1),r.oc(2," See all your "),r.Ob(3,"span",2),r.oc(4," meetings "),r.Nb(),r.oc(5," at one place. "),r.Nb(),r.nc(6,b,4,0,"ng-container",3),r.nc(7,u,16,1,"div",4),r.nc(8,g,5,0,"ng-container",3),r.Nb()),2&t&&(r.zb(6),r.ec("ngIf",e.loading),r.zb(1),r.ec("ngIf",!e.loading&&e.slots.length),r.zb(1),r.ec("ngIf",!e.loading&&!e.slots.length))},directives:[o.k,o.j,s.e],pipes:[o.d,o.p],styles:[".table[_ngcontent-%COMP%]{border-collapse:separate}.table-wrap[_ngcontent-%COMP%]{margin:3rem 0;overflow-x:scroll;padding:1rem 1rem 3rem}.table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:6px}.table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#dfe6f6;border-radius:1rem}.table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#1ac293;border-radius:1rem}.table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#1ac293}.table-reponsive[_ngcontent-%COMP%]{width:100%}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;color:rgba(0,0,0,.42);text-align:left;padding:2rem 1rem;min-width:12rem;margin-bottom:3rem;font-size:1.4rem}@media (max-width:47.99em){.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1.5rem 1rem}}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;color:#000;font-weight:500;min-width:12rem;border-bottom:1px solid #d3d8df;font-size:1.4rem}@media (max-width:47.99em){.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem 1rem}}.table-cell-small[_ngcontent-%COMP%]{min-width:5rem!important}.dash-wrap[_ngcontent-%COMP%]{-webkit-animation:slide_up .3s cubic-bezier(.25,.46,.45,.94) forwards;animation:slide_up .3s cubic-bezier(.25,.46,.45,.94) forwards}"]}),m)}],h=((f=function t(){_classCallCheck(this,t)}).\u0275mod=r.Hb({type:f}),f.\u0275inj=r.Gb({factory:function(t){return new(t||f)},imports:[[o.b,s.f.forChild(p)]]}),f)}}]);