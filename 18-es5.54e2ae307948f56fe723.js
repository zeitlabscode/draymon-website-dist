function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{XihW:function(e,n,t){"use strict";t.r(n),t.d(n,"VideoCallModule",(function(){return p}));var i=t("ofXK"),o=t("PSD3"),r=t.n(o),a=t("fXoL"),c=t("N+K7"),s=t("dz5x"),l=t("tyNb");function d(e,n){1&e&&(a.Mb(0),a.Ob(1,"div",2),a.Ob(2,"span",3),a.oc(3," Please Wait... "),a.Kb(4,"div",4),a.Nb(),a.Nb(),a.Lb())}function b(e,n){if(1&e&&(a.Ob(0,"div"),a.Ob(1,"h4"),a.Ob(2,"span",6),a.oc(3,"Meeting ends in: "),a.Nb(),a.oc(4),a.Nb(),a.Ob(5,"div",7),a.Kb(6,"iframe",8),a.Nb(),a.Nb()),2&e){var t=a.Yb(2);a.zb(4),a.sc(" ",t.hour,"h ",t.minute,"m ",t.second,"s")}}function f(e,n){1&e&&(a.Ob(0,"div"),a.Ob(1,"div",9),a.Kb(2,"img",10),a.Ob(3,"p"),a.oc(4,"Meeting Over"),a.Nb(),a.Ob(5,"a",11),a.oc(6," Go to Dashboard"),a.Nb(),a.Nb(),a.Nb())}function m(e,n){if(1&e&&(a.Ob(0,"div",5),a.nc(1,b,7,3,"div",0),a.nc(2,f,7,0,"div",0),a.Nb()),2&e){var t=a.Yb();a.zb(1),a.ec("ngIf",t.meeting),a.zb(1),a.ec("ngIf",!t.meeting)}}var g,h,u=[{path:"",component:(g=function(){function e(n,t,i){_classCallCheck(this,e),this.http=n,this.share=t,this.router=i,this.meeting=!1,this.hour=0,this.minute=0,this.second=0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.http.postToBackend("/admin/meeting/current",{adminId:this.share.user}).then((function(n){e.loading=!1,console.log(n),7e3==n.statusCode&&(console.log(new Date(n.data.endTime)),e.meeting=!0,e.startTimer(n.data.endTime))})).catch((function(n){e.loading=!1,console.log(n),r.a.fire({title:"Error",text:n.message,icon:"error"})}))}},{key:"startTimer",value:function(e){var n,t=this;this.x=setInterval((function(){n=(new Date).getTime();var i=new Date(e)-n,o=(Math.floor(i/864e5),Math.floor(i%864e5/36e5)),r=Math.floor(i%36e5/6e4),a=Math.floor(i%6e4/1e3);t.hour=o,t.minute=r,t.second=a,i<0&&(clearInterval(t.x),t.meeting=!1,console.log("end hit"))}),1e3)}}]),e}(),g.\u0275fac=function(e){return new(e||g)(a.Jb(c.a),a.Jb(s.a),a.Jb(l.c))},g.\u0275cmp=a.Db({type:g,selectors:[["app-video-call"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","container",4,"ngIf"],[1,"text-center"],[1,"text","mx-auto","ld-ext-left","running"],[1,"ld","ld-ring","ld-spin"],[1,"container"],[1,"text-dark"],[1,"iframe-container"],["src","https://tokbox.com/embed/embed/ot-embed.js?embedId=bec6518c-a0ab-4c90-a177-f906c4b1979c&room=DEFAULT_ROOM&iframe=true","width","800","height","640","scrolling","auto","allow","microphone; camera"],[1,"meeting-over"],["src","assets/img/icons/end.svg","alt",""],["routerLink","/admin",1,"btn"]],template:function(e,n){1&e&&(a.nc(0,d,5,0,"ng-container",0),a.nc(1,m,3,2,"div",1)),2&e&&(a.ec("ngIf",n.loading),a.zb(1),a.ec("ngIf",!n.loading))},directives:[i.k,l.e],styles:[".meeting-over[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;margin-top:5rem}.meeting-over[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.6;height:7rem;margin-bottom:2rem}.meeting-over[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600}.iframe-container[_ngcontent-%COMP%]{z-index:2;margin:4rem 0;width:100%;height:0;box-shadow:0 2rem 5rem 0 rgba(123,136,153,.25);padding-bottom:56.25%;position:relative;overflow:hidden}.iframe-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;left:0;top:0;border:none;height:100%;width:100%}"]}),g)}],p=((h=function e(){_classCallCheck(this,e)}).\u0275mod=a.Hb({type:h}),h.\u0275inj=a.Gb({factory:function(e){return new(e||h)},imports:[[i.b,l.f.forChild(u)]]}),h)}}]);