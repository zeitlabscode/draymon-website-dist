function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var l=t[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{fEIi:function(e,t,o){"use strict";o.r(t),o.d(t,"AllSlotsModule",(function(){return m}));var l=o("ofXK"),n=o("PSD3"),i=o.n(n),s=o("fXoL"),c=o("N+K7"),a=o("dz5x"),r=o("tyNb"),d=function(e){return["/admin/booking-details",e]};function u(e,t){if(1&e&&(s.Ob(0,"span",9),s.Ob(1,"a",17),s.Ob(2,"i",18),s.oc(3," remove_red_eye "),s.Nb(),s.Ob(4,"div",11),s.Ob(5,"p"),s.oc(6," View Booking Details "),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&e){var o=s.Yb().$implicit;s.zb(1),s.ec("routerLink",s.hc(1,d,null==o?null:o.id))}}function b(e,t){if(1&e){var o=s.Pb();s.Ob(0,"div",5),s.Ob(1,"div",6),s.Ob(2,"div",7),s.nc(3,u,7,3,"span",8),s.Ob(4,"span",9),s.Ob(5,"i",10),s.Wb("click",(function(){s.jc(o);var e=t.$implicit,l=t.index;return s.Yb().deleteSlot(null==e?null:e.id,null==e?null:e.transactionId,null==e?null:e.booked,l)})),s.oc(6," delete_outline "),s.Nb(),s.Ob(7,"div",11),s.Ob(8,"p"),s.oc(9," Delete this slot ? "),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Ob(10,"h5",12),s.oc(11),s.Zb(12,"date"),s.Nb(),s.Ob(13,"h6",13),s.oc(14),s.Zb(15,"date"),s.Zb(16,"date"),s.Nb(),s.Ob(17,"div",14),s.Ob(18,"span",15),s.oc(19),s.Nb(),s.Ob(20,"span",16),s.oc(21),s.Nb(),s.Nb(),s.Nb(),s.Nb()}if(2&e){var l=t.$implicit;s.zb(3),s.ec("ngIf",null==l?null:l.booked),s.zb(8),s.qc(" ",s.bc(12,10,null==l?null:l.date,"MMMM d,y")," "),s.zb(3),s.rc(" ",s.bc(15,13,null==l?null:l.startTime,"h:mm a")," - ",s.bc(16,16,null==l?null:l.endTime,"h:mm a"),""),s.zb(5),s.qc("",null==l?null:l.duration," MINS"),s.zb(1),s.Bb("text-block--primary",null==l?null:l.booked)("text-block--secondary",!(null!=l&&l.booked)),s.zb(1),s.qc(" ",1==(null==l?null:l.booked)?"Booked":"Not Booked"," ")}}var f,h,p=[{path:"",component:(f=function(){function e(t,o){_classCallCheck(this,e),this.http=t,this.share=o,this.allSlots=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.http.postToBackend("/admin/slot/all",{adminId:this.share.user}).then((function(t){console.log(t),7e3==t.statusCode&&(e.allSlots=t.data,console.log(e.allSlots))})).catch((function(e){console.log(e)}))}},{key:"deleteSlot",value:function(e,t,o,l){var n=this;o?i.a.fire({icon:"question",title:"Delete this slot?",text:"This slot is booked. Removing it will require refund for the slot. Do you still want to remove it?",showCancelButton:!0,confirmButtonText:"Yes, delete this slot!"}).then((function(o){o.value&&n.http.postToBackend("/admin/refund",{adminId:n.share.user,slotId:e,transactionId:t}).then((function(e){console.log(e),7e3===e.statusCode?(n.allSlots.splice(l,1),i.a.fire("Deleted","Slot deleted successfully. Refund Initiated","success")):i.a.fire("Failed!",e.message,"error")})).catch((function(e){console.log(e),i.a.fire("Oops",e.message,"error")}))})):i.a.fire({icon:"question",title:"Delete this slot?",showCancelButton:!0,confirmButtonText:"Yes, delete this slot!"}).then((function(t){t.value&&n.http.postToBackend("/admin/slot/delete",{adminId:n.share.user,slotId:e}).then((function(e){console.log(e),e.statusCode?(i.a.fire("Deleted","Slot Deleted Successfully","success"),n.allSlots.splice(l,1)):i.a.fire("Failed","Failed to delete slot","error")})).catch((function(e){console.log(e),i.a.fire("Failed","Failed to delete slot","error")})),console.log(t.value,e)}))}}]),e}(),f.\u0275fac=function(e){return new(e||f)(s.Jb(c.a),s.Jb(a.a))},f.\u0275cmp=s.Db({type:f,selectors:[["app-all-slots"]],decls:6,vars:1,consts:[[1,"slots-container"],[1,"text-dark"],[1,"slot-section"],[1,"row"],["class","col-lg-3 col-md-4 col-6",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","col-6"],[1,"card","slot-card"],[1,"slot-option"],["class","my-tooltip",4,"ngIf"],[1,"my-tooltip"],[1,"material-icons","material-icons-rounded",3,"click"],[1,"my-tooltip-content"],[1,"text-dark","mb-2"],[1,"text-light-gray","slot-time","mb-4"],[1,"d-flex","align-items-center","justify-content-between"],[1,"text-block","text-block--dark"],[1,"text-block"],[3,"routerLink"],[1,"material-icons","material-icons-outlined","text-dark"]],template:function(e,t){1&e&&(s.Ob(0,"section",0),s.Ob(1,"h2",1),s.oc(2," All Slots "),s.Nb(),s.Ob(3,"div",2),s.Ob(4,"div",3),s.nc(5,b,22,19,"div",4),s.Nb(),s.Nb(),s.Nb()),2&e&&(s.zb(5),s.ec("ngForOf",t.allSlots))},directives:[l.j,l.k,r.e],pipes:[l.d],styles:[""]}),f)}],m=((h=function e(){_classCallCheck(this,e)}).\u0275mod=s.Hb({type:h}),h.\u0275inj=s.Gb({factory:function(e){return new(e||h)},imports:[[l.b,r.f.forChild(p)]]}),h)}}]);