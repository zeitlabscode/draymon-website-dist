function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var l=0;l<t.length;l++){var o=t[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,l){return t&&_defineProperties(e.prototype,t),l&&_defineProperties(e,l),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{fEIi:function(e,t,l){"use strict";l.r(t),l.d(t,"AllSlotsModule",(function(){return k}));var o=l("ofXK"),n=l("PSD3"),i=l.n(n),c=l("fXoL"),a=l("N+K7"),s=l("CNll"),r=l("tyNb");function b(e,t){1&e&&(c.Mb(0),c.Ob(1,"div",2),c.Ob(2,"span",3),c.oc(3," Getting slots, Please wait... "),c.Kb(4,"div",4),c.Nb(),c.Nb(),c.Lb())}var d=function(e){return["/admin/booking-details",e]};function u(e,t){if(1&e&&(c.Ob(0,"span",14),c.Ob(1,"a",22),c.Ob(2,"i",23),c.oc(3," remove_red_eye "),c.Nb(),c.Ob(4,"div",16),c.Ob(5,"p"),c.oc(6," View Booking Details "),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&e){var l=c.Yb().$implicit;c.zb(1),c.ec("routerLink",c.hc(1,d,null==l?null:l.id))}}function f(e,t){if(1&e){var l=c.Pb();c.Ob(0,"div",10),c.Ob(1,"div",11),c.Ob(2,"div",12),c.nc(3,u,7,3,"span",13),c.Ob(4,"span",14),c.Ob(5,"i",15),c.Wb("click",(function(){c.jc(l);var e=t.$implicit,o=t.index;return c.Yb(2).deleteSlot(null==e?null:e.id,null==e?null:e.transactionId,null==e?null:e.booked,o)})),c.oc(6," delete_outline "),c.Nb(),c.Ob(7,"div",16),c.Ob(8,"p"),c.oc(9," Delete this slot ? "),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(10,"h5",17),c.oc(11),c.Zb(12,"date"),c.Nb(),c.Ob(13,"h6",18),c.oc(14),c.Zb(15,"date"),c.Zb(16,"date"),c.Nb(),c.Ob(17,"div",19),c.Ob(18,"span",20),c.oc(19),c.Nb(),c.Ob(20,"span",21),c.oc(21),c.Nb(),c.Nb(),c.Nb(),c.Nb()}if(2&e){var o=t.$implicit;c.zb(3),c.ec("ngIf",null==o?null:o.booked),c.zb(8),c.qc(" ",c.bc(12,10,null==o?null:o.date,"MMMM d,y")," "),c.zb(3),c.rc(" ",c.bc(15,13,null==o?null:o.startTime,"h:mm a")," - ",c.bc(16,16,null==o?null:o.endTime,"h:mm a"),""),c.zb(5),c.qc("",null==o?null:o.duration," MINS"),c.zb(1),c.Bb("text-block--primary",null==o?null:o.booked)("text-block--secondary",!(null!=o&&o.booked)),c.zb(1),c.qc(" ",1==(null==o?null:o.booked)?"Booked":"Not Booked"," ")}}function p(e,t){if(1&e&&(c.Ob(0,"section",5),c.Ob(1,"h2",6),c.oc(2," All Slots "),c.Nb(),c.Ob(3,"div",7),c.Ob(4,"div",8),c.nc(5,f,22,19,"div",9),c.Nb(),c.Nb(),c.Nb()),2&e){var l=c.Yb();c.zb(5),c.ec("ngForOf",l.allSlots)}}var h,m,g=[{path:"",component:(h=function(){function e(t,l){_classCallCheck(this,e),this.http=t,this.share=l,this.allSlots=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.http.postToBackend("/admin/slot/all",{adminId:this.share.user}).then((function(t){e.loading=!1,console.log(t),7e3==t.statusCode?(e.allSlots=t.data,console.log(e.allSlots)):i.a.fire("Error",t.message,"error")})).catch((function(t){e.loading=!1,console.log(t),i.a.fire("Error",t.message,"error")}))}},{key:"deleteSlot",value:function(e,t,l,o){var n=this;l?i.a.fire({icon:"question",title:"Delete this slot?",text:"This slot is booked. So you cannot delete it",showCancelButton:!0}):i.a.fire({icon:"question",title:"Delete this slot?",showCancelButton:!0,confirmButtonText:"Yes, delete this slot!"}).then((function(t){t.value&&n.http.postToBackend("/admin/slot/delete",{adminId:n.share.user,slotId:e}).then((function(e){console.log(e),e.statusCode?(i.a.fire("Deleted","Slot Deleted Successfully","success"),n.allSlots.splice(o,1)):i.a.fire("Failed","Failed to delete slot","error")})).catch((function(e){console.log(e),i.a.fire("Failed","Failed to delete slot","error")})),console.log(t.value,e)}))}}]),e}(),h.\u0275fac=function(e){return new(e||h)(c.Jb(a.a),c.Jb(s.a))},h.\u0275cmp=c.Db({type:h,selectors:[["app-all-slots"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","slots-container",4,"ngIf"],[1,"text-center","mt-5","pt-5"],[1,"text","mx-auto","ld-ext-left","running"],[1,"ld","ld-ring","ld-spin"],[1,"slots-container"],[1,"text-dark"],[1,"slot-section"],[1,"row"],["class","col-lg-3 col-md-4 col-6",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","col-6"],[1,"card","slot-card"],[1,"slot-option"],["class","my-tooltip",4,"ngIf"],[1,"my-tooltip"],[1,"material-icons","material-icons-rounded",3,"click"],[1,"my-tooltip-content"],[1,"text-dark","mb-2"],[1,"text-light-gray","slot-time","mb-4"],[1,"d-flex","align-items-center","justify-content-between"],[1,"text-block","text-block--dark"],[1,"text-block"],[3,"routerLink"],[1,"material-icons","material-icons-outlined","text-dark"]],template:function(e,t){1&e&&(c.nc(0,b,5,0,"ng-container",0),c.nc(1,p,6,1,"section",1)),2&e&&(c.ec("ngIf",t.loading),c.zb(1),c.ec("ngIf",!t.loading))},directives:[o.k,o.j,r.e],pipes:[o.d],styles:[""]}),h)}],k=((m=function e(){_classCallCheck(this,e)}).\u0275mod=c.Hb({type:m}),m.\u0275inj=c.Gb({factory:function(e){return new(e||m)},imports:[[o.b,r.f.forChild(g)]]}),m)}}]);