function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"Fep+":function(n,t,e){"use strict";e.r(t),e.d(t,"MeetingsModule",(function(){return w}));var o=e("ofXK"),a=e("PSD3"),r=e.n(a),i=e("fXoL"),l=e("N+K7"),c=e("dz5x"),b=e("tyNb");function s(n,t){1&n&&(i.Mb(0),i.Ob(1,"span",5),i.oc(2," Getting your meetings... "),i.Kb(3,"div",6),i.Nb(),i.Lb())}function d(n,t){1&n&&(i.Ob(0,"a",14),i.oc(1," Join "),i.Nb())}function u(n,t){if(1&n){var e=i.Pb();i.Ob(0,"a",15),i.Wb("click",(function(){i.jc(e);var n=i.Yb(),t=n.index,o=n.$implicit;return i.Yb(2).cancel(t,null==o?null:o.id,null==o?null:o.transactionId)})),i.oc(1,"Cancel Meeting"),i.Nb()}}function g(n,t){if(1&n&&(i.Ob(0,"tr"),i.Ob(1,"td",9),i.oc(2),i.Nb(),i.Ob(3,"td"),i.oc(4),i.Zb(5,"date"),i.Nb(),i.Ob(6,"td"),i.oc(7),i.Zb(8,"date"),i.Zb(9,"date"),i.Nb(),i.Ob(10,"td",11),i.oc(11),i.Nb(),i.Ob(12,"td"),i.oc(13),i.Zb(14,"titlecase"),i.Nb(),i.Ob(15,"td"),i.nc(16,d,2,0,"a",12),i.nc(17,u,2,0,"a",13),i.Nb(),i.Nb()),2&n){var e=t.$implicit,o=t.index;i.zb(2),i.pc(o+1),i.zb(2),i.pc(i.bc(5,8,null==e?null:e.date,"EE, dd MMM, yyyy")),i.zb(3),i.rc("",i.bc(8,11,null==e?null:e.startTime,"h:mm a")," - ",i.bc(9,14,null==e?null:e.endTime,"h:mm a"),""),i.zb(4),i.qc("",null==e?null:e.duration," MINS"),i.zb(2),i.pc(i.ac(14,17,null==e?null:e.counsultingType)),i.zb(3),i.ec("ngIf",null==e?null:e.join),i.zb(1),i.ec("ngIf",null==e?null:e.refund)}}function m(n,t){if(1&n&&(i.Ob(0,"div",7),i.Ob(1,"table",8),i.Ob(2,"thead"),i.Ob(3,"tr"),i.Ob(4,"th",9),i.oc(5,"Sr no."),i.Nb(),i.Ob(6,"th"),i.oc(7,"Date"),i.Nb(),i.Ob(8,"th"),i.oc(9,"Time"),i.Nb(),i.Ob(10,"th"),i.oc(11,"Duration"),i.Nb(),i.Ob(12,"th"),i.oc(13,"Consulting Type"),i.Nb(),i.Ob(14,"th"),i.oc(15,"Action"),i.Nb(),i.Nb(),i.Nb(),i.Ob(16,"tbody"),i.nc(17,g,18,19,"tr",10),i.Nb(),i.Nb(),i.Nb()),2&n){var e=i.Yb();i.zb(17),i.ec("ngForOf",e.slots)}}function f(n,t){1&n&&(i.Mb(0),i.Ob(1,"span",16),i.oc(2," You don't have any meetings. "),i.Nb(),i.Ob(3,"a",17),i.oc(4,"Book one now."),i.Nb(),i.Lb())}var p,h,O=[{path:"",component:(p=function(){function n(t,e){_classCallCheck(this,n),this.http=t,this.share=e,this.slots=[]}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.loading=!0,this.http.postToBackend("/users/slot/booked/all",{userId:this.share.user.id}).then((function(t){n.loading=!1,console.log(t),7e3===t.statusCode&&(n.slots=t.data.map((function(n){var t,e;return t=new Date(n.startTime),e=new Date,{id:n.id,title:n.title,date:n.date,startTime:n.startTime,endTime:n.endTime,duration:n.duration,counsultingType:n.counsultingType,bookedAt:n.bookedAt,transactionId:n.transactionId,join:n.join,refund:(t-e)/36e5>24}})),console.log(n.slots))})).catch((function(t){console.log(t),n.loading=!1,r.a.fire({icon:"error",title:"Internal Server Error"})}))}},{key:"cancel",value:function(n,t,e){var o=this;this.http.postToBackend("/users/slot/cancel",{userId:this.share.user.id,slotId:t,transactionId:e}).then((function(t){console.log(t),7e3===t.statusCode?(o.slots.splice(n,1),r.a.fire("Refunded","Your booking is cancelled and refund is initiate successfully","success")):r.a.fire("Failed","Cannot cancel booking. Please try later","error")})).catch((function(n){console.log(n),r.a.fire("Failed","Cannot cancel booking. Please try later","error")}))}}]),n}(),p.\u0275fac=function(n){return new(n||p)(i.Jb(l.a),i.Jb(c.a))},p.\u0275cmp=i.Db({type:p,selectors:[["app-meetings"]],decls:9,vars:3,consts:[[1,"dash-wrap"],[1,"text-dark","border-1"],[1,"text-primary"],[4,"ngIf"],["class","table-wrap",4,"ngIf"],[1,"text","mx-auto","ld-ext-left","running"],[1,"ld","ld-ring","ld-spin"],[1,"table-wrap"],[1,"table","table-reponsive"],[1,"table-cell-small"],[4,"ngFor","ngForOf"],[1,"text-primary","text-small","text-700"],["routerLink","/dashboard/meeting","class","btn btn-sm btn-primary mr-3",4,"ngIf"],["class","btn btn-sm btn-dark",3,"click",4,"ngIf"],["routerLink","/dashboard/meeting",1,"btn","btn-sm","btn-primary","mr-3"],[1,"btn","btn-sm","btn-dark",3,"click"],[1,"text","mx-auto"],["routerLink","/dashboard/new-meeting",1,"text-700","link"]],template:function(n,t){1&n&&(i.Ob(0,"div",0),i.Ob(1,"h4",1),i.oc(2," See all your "),i.Ob(3,"span",2),i.oc(4," meetings "),i.Nb(),i.oc(5," at one place. "),i.Nb(),i.nc(6,s,4,0,"ng-container",3),i.nc(7,m,18,1,"div",4),i.nc(8,f,5,0,"ng-container",3),i.Nb()),2&n&&(i.zb(6),i.ec("ngIf",t.loading),i.zb(1),i.ec("ngIf",!t.loading&&t.slots.length),i.zb(1),i.ec("ngIf",!t.loading&&!t.slots.length))},directives:[o.k,o.j,b.e],pipes:[o.d,o.p],styles:[".table[_ngcontent-%COMP%]{border-collapse:separate}.table-wrap[_ngcontent-%COMP%]{margin:3rem 0;overflow-x:scroll;padding:1rem 1rem 3rem}.table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:6px}.table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#dfe6f6;border-radius:1rem}.table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#1ac293;border-radius:1rem}.table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#1ac293}.table-reponsive[_ngcontent-%COMP%]{width:100%}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;color:rgba(0,0,0,.42);text-align:left;padding:1rem 2rem;min-width:18rem;margin-bottom:3rem}@media (max-width:47.99em){.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1.5rem 1rem}}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:2rem;color:#000;font-weight:500;min-width:18rem;border-bottom:1px solid #d3d8df}@media (max-width:47.99em){.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem 1rem}}.table-cell-small[_ngcontent-%COMP%]{min-width:7rem!important}.dash-wrap[_ngcontent-%COMP%]{-webkit-animation:slide_up .3s cubic-bezier(.25,.46,.45,.94) forwards;animation:slide_up .3s cubic-bezier(.25,.46,.45,.94) forwards}"]}),p)}],w=((h=function n(){_classCallCheck(this,n)}).\u0275mod=i.Hb({type:h}),h.\u0275inj=i.Gb({factory:function(n){return new(n||h)},imports:[[o.b,b.f.forChild(O)]]}),h)}}]);