(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{N9uA:function(t,e,o){"use strict";o.r(e),o.d(e,"AllBookingsModule",(function(){return h}));var l=o("ofXK"),n=o("PSD3"),s=o.n(n),i=o("fXoL"),c=o("N+K7"),r=o("dz5x"),a=o("tyNb");const d=function(t){return["/admin/booking-details",t]};function u(t,e){if(1&t&&(i.Ob(0,"div",5),i.Ob(1,"div",6),i.Ob(2,"h4",1),i.oc(3),i.Nb(),i.Ob(4,"h6",7),i.oc(5),i.Zb(6,"titlecase"),i.Nb(),i.Ob(7,"p"),i.oc(8),i.Nb(),i.Ob(9,"div",8),i.Ob(10,"a",9),i.oc(11,"View Full Details"),i.Nb(),i.Nb(),i.Nb(),i.Nb()),2&t){const t=e.$implicit;i.zb(3),i.pc(null==t?null:t.userName),i.zb(2),i.pc(i.ac(6,4,null==t?null:t.counsultingType)),i.zb(3),i.qc("",null==t?null:t.duration," Min"),i.zb(2),i.ec("routerLink",i.hc(6,d,null==t?null:t.id))}}const b=[{path:"",component:(()=>{class t{constructor(t,e){this.http=t,this.share=e,this.allSlots=[]}ngOnInit(){this.http.postToBackend("/admin/slot/booked/all",{adminId:this.share.user}).then(t=>{console.log(t),7e3==t.statusCode&&(this.allSlots=t.data,console.log(this.allSlots))}).catch(t=>{console.log(t)})}deleteSlot(t,e,o,l){o?s.a.fire({icon:"question",title:"Delete this slot?",text:"This slot is booked. Removing it will require refund for the slot. Do you still want to remove it?",showCancelButton:!0,confirmButtonText:"Yes, delete this slot!"}).then(o=>{o.value&&this.http.postToBackend("/admin/refund",{adminId:this.share.user,slotId:t,transactionId:e}).then(t=>{console.log(t),7e3===t.statusCode?(this.allSlots.splice(l,1),s.a.fire("Deleted","Slot deleted successfully. Refund Initiated","success")):s.a.fire("Failed",t.message,"error")}).catch(t=>{console.log(t),s.a.fire("Failed","Failed to delete slot","error")})}):s.a.fire({icon:"question",title:"Delete this slot?",showCancelButton:!0,confirmButtonText:"Yes, delete this slot!"}).then(e=>{e.value&&this.http.postToBackend("/admin/slot/delete",{adminId:this.share.user,slotId:t}).then(t=>{console.log(t),t.statusCode?(s.a.fire("Deleted","Slot Deleted Successfully","success"),this.allSlots.splice(l,1)):s.a.fire("Failed","Failed to delete slot","error")}).catch(t=>{console.log(t),s.a.fire("Failed","Failed to delete slot","error")}),console.log(e.value,t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Jb(c.a),i.Jb(r.a))},t.\u0275cmp=i.Db({type:t,selectors:[["app-all-bookings"]],decls:6,vars:1,consts:[[1,"slots-container"],[1,"text-dark"],[1,"slot-section"],[1,"row"],["class","col-lg-3 col-md-4 col-6",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","col-6"],[1,"card","slot-card","text-center","pt-5"],[1,"text-light-gray","slot-time","mt-2","mb-4"],[1,"text-center"],[1,"btn","btn-sm","btn-dark","mt-3",3,"routerLink"]],template:function(t,e){1&t&&(i.Ob(0,"section",0),i.Ob(1,"h2",1),i.oc(2," All Bookings "),i.Nb(),i.Ob(3,"div",2),i.Ob(4,"div",3),i.nc(5,u,12,8,"div",4),i.Nb(),i.Nb(),i.Nb()),2&t&&(i.zb(5),i.ec("ngForOf",e.allSlots))},directives:[l.j,a.e],pipes:[l.p],styles:[".slot-card[_ngcontent-%COMP%]{border-radius:1rem;position:relative;padding-top:5rem;display:flex;flex-direction:column;justify-content:space-between;min-height:15rem;box-shadow:0 2rem 5rem 0 rgba(123,136,153,.25);margin-bottom:3rem}.slot-option[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer;padding:1.5rem}.slot-option[_ngcontent-%COMP%]   .my-tooltip[_ngcontent-%COMP%]:not(:last-child){margin-right:2rem}"]}),t})()}];let h=(()=>{class t{}return t.\u0275mod=i.Hb({type:t}),t.\u0275inj=i.Gb({factory:function(e){return new(e||t)},imports:[[l.b,a.f.forChild(b)]]}),t})()}}]);