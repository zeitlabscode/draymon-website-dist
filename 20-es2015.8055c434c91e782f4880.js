(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"Fep+":function(n,t,e){"use strict";e.r(t),e.d(t,"MeetingsModule",(function(){return f}));var o=e("ofXK"),a=e("PSD3"),i=e.n(a),r=e("fXoL"),c=e("N+K7"),l=e("dz5x"),b=e("tyNb");function s(n,t){1&n&&(r.Mb(0),r.Ob(1,"span",5),r.nc(2," Getting your meetings... "),r.Kb(3,"div",6),r.Nb(),r.Lb())}function d(n,t){1&n&&(r.Ob(0,"td"),r.Ob(1,"a",11),r.nc(2," Join "),r.Nb(),r.Nb())}function u(n,t){if(1&n){const n=r.Pb();r.Ob(0,"td"),r.Ob(1,"a",12),r.Wb("click",(function(){r.ic(n);const t=r.Yb(),e=t.index,o=t.$implicit;return r.Yb(2).cancel(e,null==o?null:o.id,null==o?null:o.transactionId)})),r.nc(2," Cancel Meeting"),r.Nb(),r.Nb()}}function g(n,t){if(1&n&&(r.Ob(0,"tr"),r.Ob(1,"td",9),r.nc(2),r.Nb(),r.Ob(3,"td"),r.nc(4),r.Zb(5,"date"),r.Nb(),r.Ob(6,"td"),r.nc(7),r.Nb(),r.Ob(8,"td"),r.nc(9),r.Zb(10,"date"),r.Zb(11,"date"),r.Nb(),r.Ob(12,"td"),r.nc(13),r.Nb(),r.mc(14,d,3,0,"td",3),r.mc(15,u,3,0,"td",3),r.Nb()),2&n){const n=t.$implicit,e=t.index;r.zb(2),r.oc(e+1),r.zb(2),r.oc(r.ac(5,8,null==n?null:n.date,"MMMM d,y")),r.zb(3),r.oc(null==n?null:n.duration),r.zb(2),r.qc("",r.ac(10,11,null==n?null:n.startTime,"h:mm a")," - ",r.ac(11,14,null==n?null:n.endTime,"h:mm a"),""),r.zb(4),r.oc(null==n?null:n.counsultingType),r.zb(1),r.dc("ngIf",null==n?null:n.join),r.zb(1),r.dc("ngIf",null==n?null:n.refund)}}function m(n,t){if(1&n&&(r.Ob(0,"div",7),r.Ob(1,"table",8),r.Ob(2,"thead"),r.Ob(3,"tr"),r.Ob(4,"th",9),r.nc(5,"Sr no."),r.Nb(),r.Ob(6,"th"),r.nc(7,"Date"),r.Nb(),r.Ob(8,"th"),r.nc(9,"Duration"),r.Nb(),r.Ob(10,"th"),r.nc(11,"Time"),r.Nb(),r.Ob(12,"th"),r.nc(13,"Consulting Type"),r.Nb(),r.Ob(14,"th"),r.nc(15,"Action"),r.Nb(),r.Nb(),r.Nb(),r.Ob(16,"tbody"),r.mc(17,g,16,17,"tr",10),r.Nb(),r.Nb(),r.Nb()),2&n){const n=r.Yb();r.zb(17),r.dc("ngForOf",n.slots)}}function p(n,t){1&n&&(r.Mb(0),r.Ob(1,"span",13),r.nc(2," You don't have any meetings. "),r.Nb(),r.Lb())}const h=[{path:"",component:(()=>{class n{constructor(n,t){this.http=n,this.share=t,this.slots=[]}ngOnInit(){this.loading=!0,this.http.postToBackend("/users/slot/booked/all",{userId:this.share.user.id}).then(n=>{this.loading=!1,console.log(n),7e3===n.statusCode&&(this.slots=n.data.map(n=>{let t,e;return t=new Date(n.startTime),e=new Date,{id:n.id,date:n.date,startTime:n.startTime,endTime:n.endTime,duration:n.duration,counsultingType:n.counsultingType,bookedAt:n.bookedAt,transactionId:n.transactionId,join:n.join,refund:(t-e)/36e5>24}}),console.log(this.slots))}).catch(n=>{console.log(n),this.loading=!1,i.a.fire({icon:"error",title:"Internal Server Error"})})}cancel(n,t,e){this.http.postToBackend("/users/slot/cancel",{userId:this.share.user.id,slotId:t,transactionId:e}).then(t=>{console.log(t),7e3===t.statusCode?(this.slots.splice(n,1),i.a.fire("Refunded","Your booking is cancelled and refund is initiate successfully","success")):i.a.fire("Failed","Cannot cancel booking. Please try later","error")}).catch(n=>{console.log(n),i.a.fire("Failed","Cannot cancel booking. Please try later","error")})}}return n.\u0275fac=function(t){return new(t||n)(r.Jb(c.a),r.Jb(l.a))},n.\u0275cmp=r.Db({type:n,selectors:[["app-meetings"]],decls:9,vars:3,consts:[[1,"dash-wrap"],[1,"text-dark","border-1"],[1,"text-primary"],[4,"ngIf"],["class","table-wrap",4,"ngIf"],[1,"text","mx-auto","ld-ext-left","running"],[1,"ld","ld-ring","ld-spin"],[1,"table-wrap"],[1,"table","table-reponsive"],[1,"table-cell-small"],[4,"ngFor","ngForOf"],["routerLink","/dashboard/meeting"],[3,"click"],[1,"text","mx-auto"]],template:function(n,t){1&n&&(r.Ob(0,"div",0),r.Ob(1,"h4",1),r.nc(2," See all your "),r.Ob(3,"span",2),r.nc(4," meetings "),r.Nb(),r.nc(5," at one place. "),r.Nb(),r.mc(6,s,4,0,"ng-container",3),r.mc(7,m,18,1,"div",4),r.mc(8,p,3,0,"ng-container",3),r.Nb()),2&n&&(r.zb(6),r.dc("ngIf",t.loading),r.zb(1),r.dc("ngIf",!t.loading&&t.slots.length),r.zb(1),r.dc("ngIf",!t.loading&&!t.slots.length))},directives:[o.k,o.j,b.e],pipes:[o.d],styles:[".table[_ngcontent-%COMP%]{border-collapse:separate}.table-wrap[_ngcontent-%COMP%]{margin:3rem 0;overflow-x:scroll;padding:1rem 1rem 3rem}.table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:6px}.table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#dfe6f6;border-radius:1rem}.table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#1ac293;border-radius:1rem}.table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#1ac293}.table-reponsive[_ngcontent-%COMP%]{width:100%}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;color:rgba(0,0,0,.42);text-align:left;padding:1rem 2rem;min-width:18rem;margin-bottom:3rem}@media (max-width:47.99em){.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1.5rem 1rem}}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:2rem;color:#000;font-weight:500;min-width:18rem;border-bottom:1px solid #d3d8df}@media (max-width:47.99em){.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem 1rem}}.table-cell-small[_ngcontent-%COMP%]{min-width:7rem!important}.dash-wrap[_ngcontent-%COMP%]{-webkit-animation:slide_up .3s cubic-bezier(.25,.46,.45,.94) forwards;animation:slide_up .3s cubic-bezier(.25,.46,.45,.94) forwards}"]}),n})()}];let f=(()=>{class n{}return n.\u0275mod=r.Hb({type:n}),n.\u0275inj=r.Gb({factory:function(t){return new(t||n)},imports:[[o.b,b.f.forChild(h)]]}),n})()}}]);