(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"73oR":function(e,t,n){"use strict";n.r(t),n.d(t,"VideoCallModule",(function(){return d}));var o=n("ofXK"),i=n("fXoL"),r=n("N+K7"),s=n("dz5x"),c=n("tyNb");function a(e,t){if(1&e&&(i.Ob(0,"div"),i.Ob(1,"h4"),i.Ob(2,"span",2),i.oc(3,"Time Remaining: "),i.Nb(),i.oc(4),i.Nb(),i.Ob(5,"div",3),i.Kb(6,"iframe",4),i.Nb(),i.Nb()),2&e){const e=i.Yb();i.zb(4),i.sc(" ",e.hour,"h ",e.minute,"m ",e.second,"s")}}function h(e,t){1&e&&(i.Ob(0,"div"),i.Ob(1,"div",5),i.Kb(2,"img",6),i.Ob(3,"p"),i.oc(4,"Meeting Over"),i.Nb(),i.Ob(5,"a",7),i.oc(6," Go to Dashboard"),i.Nb(),i.Nb(),i.Nb())}const m=[{path:"",component:(()=>{class e{constructor(e,t,n){this.http=e,this.share=t,this.router=n,this.meeting=!1,this.hour=0,this.minute=0,this.second=0}ngOnInit(){this.http.postToBackend("/users/check-current",{userId:this.share.user.id}).then(e=>{7e3==e.statusCode?(console.log(e),console.log(new Date(e.data.endTime)),this.meeting=!0,this.startTimer(e.data.endTime)):this.router.navigate(["/dashboard"])}).catch(e=>{console.log(e)})}startTimer(e){let t,n;this.x=setInterval(()=>{console.log("hit"),t=(new Date).getTime(),n=new Date(e);var o=n-t,i=(Math.floor(o/864e5),Math.floor(o%864e5/36e5)),r=Math.floor(o%36e5/6e4),s=Math.floor(o%6e4/1e3);this.hour=i,this.minute=r,this.second=s,o<0&&(clearInterval(this.x),this.meeting=!1,console.log("end hit"))},1e3)}}return e.\u0275fac=function(t){return new(t||e)(i.Jb(r.a),i.Jb(s.a),i.Jb(c.c))},e.\u0275cmp=i.Db({type:e,selectors:[["app-video-call"]],decls:3,vars:2,consts:[[1,"container"],[4,"ngIf"],[1,"text-dark"],[1,"iframe-container"],["src","https://tokbox.com/embed/embed/ot-embed.js?embedId=bec6518c-a0ab-4c90-a177-f906c4b1979c&room=DEFAULT_ROOM&iframe=true","width","800","height","640","scrolling","auto","allow","microphone; camera"],[1,"meeting-over"],["src","assets/img/icons/end.svg","alt",""],["routerLink","/admin",1,"btn"]],template:function(e,t){1&e&&(i.Ob(0,"div",0),i.nc(1,a,7,3,"div",1),i.nc(2,h,7,0,"div",1),i.Nb()),2&e&&(i.zb(1),i.ec("ngIf",t.meeting),i.zb(1),i.ec("ngIf",!t.meeting))},directives:[o.k,c.e],styles:[".meeting-over[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;margin-top:5rem}.meeting-over[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.6;height:7rem;margin-bottom:2rem}.meeting-over[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600}.iframe-container[_ngcontent-%COMP%]{z-index:2;margin:4rem 0;width:100%;height:0;box-shadow:0 2rem 5rem 0 rgba(123,136,153,.25);padding-bottom:56.25%;position:relative;overflow:hidden}.iframe-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;left:0;top:0;border:none;height:100%;width:100%}"]}),e})()}];let d=(()=>{class e{}return e.\u0275mod=i.Hb({type:e}),e.\u0275inj=i.Gb({factory:function(t){return new(t||e)},imports:[[o.b,c.f.forChild(m)]]}),e})()}}]);