(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"Fep+":function(t,n,e){"use strict";e.r(n),e.d(n,"MeetingsModule",(function(){return h}));var o=e("ofXK"),a=e("PSD3"),i=e.n(a),c=e("fXoL"),l=e("N+K7"),r=e("dz5x"),b=e("tyNb");function s(t,n){1&t&&(c.Mb(0),c.Ob(1,"span",5),c.oc(2," Getting your meetings... "),c.Kb(3,"div",6),c.Nb(),c.Lb())}function d(t,n){if(1&t){const t=c.Pb();c.Ob(0,"button",17),c.Wb("click",(function(){c.jc(t);const n=c.Yb(),e=n.index,o=n.$implicit;return c.Yb(2).confirmCancelation(e,null==o?null:o.id,null==o?null:o.transactionId)})),c.oc(1,"Cancel Meeting"),c.Nb()}}function u(t,n){if(1&t&&(c.Ob(0,"tr"),c.Ob(1,"td",9),c.oc(2),c.Nb(),c.Ob(3,"td"),c.oc(4),c.Zb(5,"date"),c.Nb(),c.Ob(6,"td"),c.oc(7),c.Zb(8,"date"),c.Zb(9,"date"),c.Nb(),c.Ob(10,"td",11),c.oc(11),c.Nb(),c.Ob(12,"td"),c.oc(13),c.Zb(14,"titlecase"),c.Nb(),c.Ob(15,"td",12),c.Ob(16,"span",13),c.Ob(17,"a"),c.Ob(18,"i",14),c.oc(19," info "),c.Nb(),c.Ob(20,"div",15),c.Ob(21,"p"),c.oc(22,"You can only cancel meeting before 24 hours."),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.nc(23,d,2,0,"button",16),c.Nb(),c.Nb()),2&t){const t=n.$implicit,e=n.index;c.zb(2),c.pc(e+1),c.zb(2),c.pc(c.bc(5,7,null==t?null:t.date,"EE, dd MMM, yyyy")),c.zb(3),c.rc("",c.bc(8,10,null==t?null:t.startTime,"h:mm a")," - ",c.bc(9,13,null==t?null:t.endTime,"h:mm a"),""),c.zb(4),c.qc("",null==t?null:t.duration," MINS"),c.zb(2),c.pc(c.ac(14,16,null==t?null:t.counsultingType)),c.zb(10),c.ec("ngIf",null==t?null:t.refund)}}function m(t,n){if(1&t&&(c.Ob(0,"div",7),c.Ob(1,"table",8),c.Ob(2,"thead"),c.Ob(3,"tr"),c.Ob(4,"th",9),c.oc(5,"Sr no."),c.Nb(),c.Ob(6,"th"),c.oc(7,"Date"),c.Nb(),c.Ob(8,"th"),c.oc(9,"Time"),c.Nb(),c.Ob(10,"th"),c.oc(11,"Duration"),c.Nb(),c.Ob(12,"th"),c.oc(13,"Consulting Type"),c.Nb(),c.Ob(14,"th"),c.oc(15,"Cancel Meeting"),c.Nb(),c.Nb(),c.Nb(),c.Ob(16,"tbody"),c.nc(17,u,24,18,"tr",10),c.Nb(),c.Nb(),c.Nb()),2&t){const t=c.Yb();c.zb(17),c.ec("ngForOf",t.slots)}}function g(t,n){1&t&&(c.Mb(0),c.Ob(1,"span",18),c.oc(2," You don't have any meetings. "),c.Nb(),c.Ob(3,"a",19),c.oc(4,"Book one now."),c.Nb(),c.Lb())}const p=[{path:"",component:(()=>{class t{constructor(t,n){this.http=t,this.share=n,this.slots=[]}ngOnInit(){this.loading=!0,this.http.postToBackend("/users/slot/booked/all",{userId:this.share.user.id}).then(t=>{this.loading=!1,console.log(t),7e3===t.statusCode&&(this.slots=t.data.map(t=>{let n,e;return n=new Date(t.startTime),e=new Date,{id:t.id,title:t.title,date:t.date,startTime:t.startTime,endTime:t.endTime,duration:t.duration,counsultingType:t.counsultingType,bookedAt:t.bookedAt,transactionId:t.transactionId,join:t.join,refund:(n-e)/36e5>24}}),console.log(this.slots))}).catch(t=>{console.log(t),this.loading=!1,i.a.fire({icon:"error",title:"Internal Server Error"})})}confirmCancelation(t,n,e){i.a.fire({icon:"question",title:"Cancel this meeting?",text:"The amount paid for this meeting will be refunded to your account in 48 hours",showCancelButton:!0,confirmButtonText:"Yes, cancel!"}).then(o=>{o.value&&this.cancel(t,n,e)})}cancel(t,n,e){this.http.postToBackend("/users/slot/cancel",{userId:this.share.user.id,slotId:n,transactionId:e}).then(n=>{console.log(n),7e3===n.statusCode?(this.slots.splice(t,1),i.a.fire("Canceled","Your booking is cancelled and refund is initiated successfully","success")):i.a.fire("Failed","Cannot cancel booking. Please try later","error")}).catch(t=>{console.log(t),i.a.fire("Failed","Cannot cancel booking. Please try later","error")})}}return t.\u0275fac=function(n){return new(n||t)(c.Jb(l.a),c.Jb(r.a))},t.\u0275cmp=c.Db({type:t,selectors:[["app-meetings"]],decls:9,vars:3,consts:[[1,"dash-wrap"],[1,"text-dark","border-1"],[1,"text-primary"],[4,"ngIf"],["class","table-wrap",4,"ngIf"],[1,"text","mx-auto","ld-ext-left","running"],[1,"ld","ld-ring","ld-spin"],[1,"table-wrap"],[1,"table","table-reponsive"],[1,"table-cell-small"],[4,"ngFor","ngForOf"],[1,"text-primary","text-small","text-700"],[1,"d-flex","align-items-center"],[1,"my-tooltip","mr-4"],[1,"material-icons","material-icons-outlined","text-dark","my-2"],[1,"my-tooltip-content"],["class","btn btn-sm btn-dark mt-0",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-dark","mt-0",3,"click"],[1,"text","mx-auto"],["routerLink","/dashboard/new-meeting",1,"text-700","link"]],template:function(t,n){1&t&&(c.Ob(0,"div",0),c.Ob(1,"h4",1),c.oc(2," See all your "),c.Ob(3,"span",2),c.oc(4," meetings "),c.Nb(),c.oc(5," at one place. "),c.Nb(),c.nc(6,s,4,0,"ng-container",3),c.nc(7,m,18,1,"div",4),c.nc(8,g,5,0,"ng-container",3),c.Nb()),2&t&&(c.zb(6),c.ec("ngIf",n.loading),c.zb(1),c.ec("ngIf",!n.loading&&n.slots.length),c.zb(1),c.ec("ngIf",!n.loading&&!n.slots.length))},directives:[o.k,o.j,b.e],pipes:[o.d,o.p],styles:[".table[_ngcontent-%COMP%]{border-collapse:separate}.table-wrap[_ngcontent-%COMP%]{margin:3rem 0;overflow-x:scroll;padding:1rem 1rem 3rem}.table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:6px}.table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#dfe6f6;border-radius:1rem}.table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#1ac293;border-radius:1rem}.table-wrap[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#1ac293}.table-reponsive[_ngcontent-%COMP%]{width:100%}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;color:rgba(0,0,0,.42);text-align:left;padding:1rem 2rem;min-width:18rem;margin-bottom:3rem}@media (max-width:47.99em){.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1.5rem 1rem}}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:2rem;color:#000;font-weight:500;min-width:18rem;border-bottom:1px solid #d3d8df}@media (max-width:47.99em){.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem 1rem}}.table-cell-small[_ngcontent-%COMP%]{min-width:7rem!important}.dash-wrap[_ngcontent-%COMP%]{-webkit-animation:slide_up .3s cubic-bezier(.25,.46,.45,.94) forwards;animation:slide_up .3s cubic-bezier(.25,.46,.45,.94) forwards}"]}),t})()}];let h=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(n){return new(n||t)},imports:[[o.b,b.f.forChild(p)]]}),t})()}}]);