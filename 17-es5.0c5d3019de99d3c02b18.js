function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{PqMW:function(t,e,o){"use strict";o.r(e),o.d(e,"BookingDetailsModule",(function(){return g}));var n=o("ofXK"),l=o("PSD3"),i=o.n(l),s=o("fXoL"),a=o("tyNb"),b=o("+MQK"),c=o("N+K7");function r(t,e){1&t&&(s.Mb(0),s.Ob(1,"div",3),s.Ob(2,"span",4),s.oc(3," Getting booking details... "),s.Kb(4,"div",5),s.Nb(),s.Nb(),s.Lb())}var u=function(){return["/admin/video-call"]};function d(t,e){if(1&t){var o=s.Pb();s.Ob(0,"div",6),s.Ob(1,"div",7),s.Ob(2,"div",8),s.Ob(3,"h5",9),s.oc(4,"Customer details"),s.Nb(),s.Ob(5,"p"),s.oc(6,"Name"),s.Nb(),s.Ob(7,"p",10),s.oc(8),s.Nb(),s.Ob(9,"p"),s.oc(10,"Phone Number"),s.Nb(),s.Ob(11,"p",10),s.oc(12),s.Nb(),s.Ob(13,"p"),s.oc(14,"Consulting Type"),s.Nb(),s.Ob(15,"p",10),s.oc(16),s.Zb(17,"titlecase"),s.Nb(),s.Ob(18,"p"),s.oc(19,"Reason for meeting"),s.Nb(),s.Ob(20,"p",10),s.oc(21),s.Nb(),s.Nb(),s.Ob(22,"div",8),s.Ob(23,"h5",9),s.oc(24,"Slot details"),s.Nb(),s.Ob(25,"h5"),s.oc(26),s.Zb(27,"date"),s.Nb(),s.Ob(28,"h4",11),s.oc(29),s.Zb(30,"date"),s.Zb(31,"date"),s.Nb(),s.Ob(32,"p",12),s.oc(33,"Duration of the meeting"),s.Nb(),s.Ob(34,"p",13),s.oc(35),s.Nb(),s.Nb(),s.Ob(36,"div",8),s.Ob(37,"h5",9),s.oc(38,"Payment details"),s.Nb(),s.Ob(39,"div",14),s.Ob(40,"div",15),s.Ob(41,"p",16),s.oc(42,"Total Amount Paid:"),s.Nb(),s.Ob(43,"h2"),s.oc(44),s.Nb(),s.Nb(),s.Nb(),s.Kb(45,"div",17),s.Nb(),s.Nb(),s.Ob(46,"div",18),s.Ob(47,"div",19),s.Ob(48,"div",14),s.Ob(49,"a",20),s.oc(50," Attend Meeting"),s.Nb(),s.Ob(51,"button",21),s.Wb("click",(function(){s.jc(o);var t=s.Yb();return t.cancelBooked(null==t.slot?null:t.slot.id,null==t.slot?null:t.slot.bookingDetails.payment_id)})),s.oc(52,"Cancel Meeting"),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb()}if(2&t){var n=s.Yb();s.zb(8),s.pc(null==n.slot?null:n.slot.bookingDetails.full_name),s.zb(4),s.pc(null==n.slot?null:n.slot.bookingDetails.mobile_no),s.zb(4),s.pc(s.ac(17,10,null==n.slot?null:n.slot.bookingDetails.counsulting_type)),s.zb(5),s.pc(null==n.slot?null:n.slot.bookingDetails.reason),s.zb(5),s.qc(" ",s.bc(27,12,null==n.slot?null:n.slot.date,"MMMM d,y")," "),s.zb(3),s.rc(" ",s.bc(30,15,null==n.slot?null:n.slot.startTime,"h:mm a")," - ",s.bc(31,18,null==n.slot?null:n.slot.endTime,"h:mm a")," "),s.zb(6),s.qc(" ",null==n.slot?null:n.slot.duration," min"),s.zb(9),s.qc("$",null==n.slot?null:n.slot.bookingDetails.amount_paid,""),s.zb(5),s.ec("routerLink",s.gc(21,u))}}var f,p,m=[{path:"",component:(f=function(){function t(e,o,n,l){_classCallCheck(this,t),this.route=e,this.share=o,this.http=n,this.router=l}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.loading=!0,this.route.params.subscribe((function(e){t.http.postToBackend("/admin/slot/detail",{adminId:t.share.user,slotId:e.id}).then((function(e){t.loading=!1,console.log(e),7e3===e.statusCode?t.slot=e.data:i.a.fire("Error",e.message,"error")})).catch((function(e){t.loading=!1,console.log(e),i.a.fire({icon:"error",title:"Can't process this request",text:e.message})}))}))}},{key:"cancelBooked",value:function(t,e){var o=this;i.a.fire({icon:"question",title:"Delete this slot?",text:"This slot is booked. Removing it will require refund for the slot. Do you still want to delete it?",showCancelButton:!0,confirmButtonText:"Yes, delete this slot!"}).then((function(n){n.value&&o.http.postToBackend("/admin/refund",{adminId:o.share.user,slotId:t,transactionId:e}).then((function(t){console.log(t),7e3===t.statusCode?(i.a.fire("Deleted","Slot Deleted Successfully","success"),o.router.navigate(["admin/all-bookings"])):i.a.fire("Sorry ",t.message,"error")})).catch((function(t){console.log(t),i.a.fire("Failed to delete the slot",t.message,"error")}))}))}}]),t}(),f.\u0275fac=function(t){return new(t||f)(s.Jb(a.a),s.Jb(b.a),s.Jb(c.a),s.Jb(a.c))},f.\u0275cmp=s.Db({type:f,selectors:[["app-booking-details"]],decls:4,vars:2,consts:[[1,"text-dark","mb-4"],[4,"ngIf"],["class","booking-details",4,"ngIf"],[1,"text-center","mt-5","pt-4"],[1,"text","mx-auto","ld-ext-left","running"],[1,"ld","ld-ring","ld-spin"],[1,"booking-details"],[1,"row","mt-5"],[1,"col-md-4"],[1,"text-dark","mb-5"],[1,"text"],[1,"text-dark"],[1,"mb-2","mt-4"],[1,"text-block","text-block--dark","mb-3"],[1,"d-flex","justify-content-between","align-items-center"],[1,"content"],[1,"text","mb-1"],[1,"d-flex","align-items-center","justify-content-between"],[1,"row"],[1,"col-lg-6","col-md-8","col-sm-10"],[1,"btn","btn-primary",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(t,e){1&t&&(s.Ob(0,"h2",0),s.oc(1,"Booking details"),s.Nb(),s.nc(2,r,5,0,"ng-container",1),s.nc(3,d,53,22,"div",2)),2&t&&(s.zb(2),s.ec("ngIf",e.loading),s.zb(1),s.ec("ngIf",!e.loading))},directives:[n.k,a.e],pipes:[n.p,n.d],styles:[""]}),f)}],g=((p=function t(){_classCallCheck(this,t)}).\u0275mod=s.Hb({type:p}),p.\u0275inj=s.Gb({factory:function(t){return new(t||p)},imports:[[n.b,a.f.forChild(m)]]}),p)}}]);